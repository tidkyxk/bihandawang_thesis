âœ… â€œInitial attempts to extract post data from static HTML failed, as the target forum dynamically loads content via client-side JavaScript. Therefore, the study adopted a network-level data acquisition strategy by directly requesting the underlying API endpoints.â€
âœ… é€‰æ‹© Aï¼ˆæœ€é€‚åˆæ¯•è®¾ / ä½œä¸šï¼‰
åœ¨ settings.py é‡Œå…³ robotsï¼š
ROBOTSTXT_OBEY = False
ç†ç”±ï¼ˆè®ºæ–‡ä¹Ÿèƒ½å†™ï¼‰ï¼š

â€œç”±äºç ”ç©¶å¯¹è±¡ä¸ºå…¬å¼€å¯è®¿é—®çš„è®ºå›é¡µé¢ï¼Œä¸”ä¸æ¶‰åŠç”¨æˆ·éšç§æ•°æ®ï¼Œæœ¬æ–‡æœªå¯¹ robots åè®®è¿›è¡Œé™åˆ¶ï¼Œä»¥ä¿è¯æ•°æ®é‡‡é›†å®Œæ•´æ€§ã€‚
âœ… äºŒã€ä¸ºä»€ä¹ˆä½ ç”¨ div::text å‡ ä¹æŠ“ä¸åˆ°å†…å®¹ï¼Ÿ
çœ‹ä½ è´´å‡ºæ¥çš„ HTML å¤´éƒ¨å°±èƒ½åˆ¤æ–­ï¼š
1ï¸âƒ£ é¡µé¢æ˜¯ XHTML Transitional
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
ğŸ‘‰ ç‰¹ç‚¹ï¼š

è¡¨æ ¼å¸ƒå±€ï¼ˆtable / tr / tdï¼‰æå¤š

å†…å®¹ä¸é  div

div å¤šåŠåªæ˜¯åŒ…è£¹

âœ… æ–¹å¼äºŒï¼šä¸´æ—¶æ‰“å°ï¼ˆè°ƒè¯•ç”¨ï¼‰

åœ¨ parse_thread é‡ŒåŠ ä¸€å¥ï¼š

self.logger.info(f"æŠ“åˆ°å¸–å­ï¼š{response.url}")


æˆ–è€…ï¼ˆæ›´ç›´è§‚ï¼‰ï¼š

print("æŠ“åˆ°å¸–å­ï¼š", response.url)


å¦‚æœä½ è¿è¿™è¡Œéƒ½æ²¡çœ‹åˆ°ï¼Œè¯´æ˜ï¼š

ğŸ‘‰ æ ¹æœ¬æ²¡è¿› parse_thread

âœ… Although the HTML source contains links to other regions, these are part of a shared JavaScript navigation template and do not reflect the topical scope of the page.

âœ… href^='/thr_tl/' æ¯” *= å®‰å…¨
a[href^='/thr_tl/']     ^=ï¼šä»å¼€å¤´åŒ¹é… ä¸ä¼šè¯¯æŠ“ï¼šJS ç»Ÿè®¡é“¾æ¥ å¥‡æ€ªæ¨èä½
âœ… https://bakusai.com/thr_res/
  acode=13     â† ä¸­å›½ç‰ˆ
  ctrid=1      â† ä¸­å›½
  ctgid=137    â† æ”¿æ²»ãƒ»ç»æµ
  bid=1149     â† æ¿å—
  tid=xxxxx    â† å¸–å­

âœ…æ•™ä½ ã€ŒScrapy shell å…ˆéªŒè¯å†å†™ä»£ç ã€ï¼ˆç¬¬ 2ï¸âƒ£

scrapy shell "https://bakusai.com/thr_res/acode=13/ctrid=1/ctgid=137/bid=1149/tid=13028911/"

1ï¸âƒ£ response.css("div.res_body")[:3]

2ï¸âƒ£ response.css("div.res_body")[0].xpath("string(.)").get()

âœ… æ²¡ JS
âœ… æ²¡è¡¨å•
âœ… æ²¡è§„åˆ™
ğŸ‘‰ è¿™æ‰æ˜¯ä½ è¦å–‚ç»™å¤§æ¨¡å‹çš„â€œè¯­ä¹‰æ–‡æœ¬â€


æˆ‘æ”¹äº†item
import scrapy

class DemoItem(scrapy.Item):
    title = scrapy.Field()
    content = scrapy.Field()
    post_date = scrapy.Field()
    url = scrapy.Field()

åŸï¼š# Define here the models for your scraped items
#
# See documentation in:
# https://docs.scrapy.org/en/latest/topics/items.html

import scrapy


class DemoItem(scrapy.Item):
    # define the fields for your item here like:
    # name = scrapy.Field()
    pass
